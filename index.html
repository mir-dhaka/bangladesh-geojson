<!DOCTYPE html>
<html>
<head>
  <title>Bangladesh Districts and Institutes</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
  <style>
    #map {
      height: 500px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    var districtData = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "properties": {
                    "district": "Dhaka",
                    "instituteData": [
                        "District Dhaka",
                        "Total Institues: 10",
                        "www.google.com"
                    ]
                },
                 "geometry": {
        "coordinates": [
          [
            [
              90.43300391042317,
              23.70188804943521
            ],
            [
              90.38973494662253,
              23.666098062855568
            ],
            [
              90.35344484795206,
              23.6597059621796
            ],
            [
              90.32552938743652,
              23.607278956602457
            ],
            [
              90.28505196968689,
              23.51772098056297
            ],
            [
              90.27109423942818,
              23.43962788732202
            ],
            [
              90.45114895975934,
              23.384550903392082
            ],
            [
              90.62980790706399,
              23.297405685090396
            ],
            [
              90.66888955178723,
              23.36405129306
            ],
            [
              90.7289077918976,
              23.474199385571353
            ],
            [
              90.64516141034909,
              23.58809310252866
            ],
            [
              90.53768688736056,
              23.70061000451669
            ],
            [
              90.50837565381863,
              23.71977936395595
            ],
            [
              90.43300391042317,
              23.70188804943521
            ]
          ]
        ],
        "type": "Polygon"
      }
            },
            {
                "type": "Feature",
                "properties": {
                    "district": "Chittagong",
                    "instituteData": [
                        "District Chittagong",
                        "Total Institues: 12",
                        "www.google.com"
                    ]
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [[
                        [91.8, 22.4],
                        [91.7, 22.3],
                        [91.9, 22.5],
                        [91.8, 22.4]
                    ]]
                }
            }
        ]
    };

    var map = L.map('map').setView([23.8, 90.4], 8);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    var districtLayer = L.geoJSON(districtData, {
                style: function (feature) {
            return {
                fillColor: '#ff0000',
                weight: 2,
                opacity: 1,
                color: 'white',
                dashArray: '3',
                fillOpacity: 0.7
            };
        },
        onEachFeature: function (feature, layer) {
            var popupContent = "<b>District: </b>" + feature.properties.district + "<br><b>Institutes: </b><br>";
            for (var i = 0; i < feature.properties.instituteData.length-1; i++) {
                popupContent += feature.properties.instituteData[i] + "<br>";
            }
            popupContent += `<a href='#' onclick=return showDistrict(${feature.properties.instituteData});>details</a>`;
            layer.bindPopup(popupContent);
        }
    }).addTo(map);

    function showDistrict(districtInfo){
        console.log(JSON.stringify(districtData));
        return false;
    }
  </script>
</body>
</html>
